# EMQX 5.x Configuration for SCRAM-SHA-256 Enhanced Authentication
# This configuration enables MQTT 5.0 enhanced authentication using SCRAM-SHA-256

# WebSocket listener configuration
listeners.ws.default {
  bind = "0.0.0.0:8083"
  max_connections = 1024000
  websocket.mqtt_path = "/mqtt"
}

# Enable enhanced authentication
authentication = [
  {
    mechanism = scram
    backend = built_in_database
    algorithm = sha256
    iteration_count = 4096
    enable = true
  }
]

# Allow anonymous connections to be disabled (force authentication)
allow_anonymous = false

# Log level for debugging
log {
  console {
    level = debug
  }
}
